import{o,c as r,a as d,_ as S,r as $,d as f,f as K,n as q,b as p,w as u,i as l,y as k,e as M,F as T,W as H,D as h,U as b,ar as L,u as Z,t as w,h as C,s as N,B as P,C as B,Z as J,k as g,m as Q,g as X,a8 as Y,ag as V,as as x,A as U,G as O,q as D,v as E,x as z}from"./index-3f36fa08.js";import{_ as tt}from"./MBtn.vue_vue_type_script_setup_true_lang-ecbf7228.js";import{_ as st}from"./OBtnPius.vue_vue_type_script_setup_true_lang-8f66403c.js";import{a as F,_ as I}from"./Pan.vue_vue_type_script_setup_true_lang-27d6a020.js";import{_ as et}from"./BtnTrash.vue_vue_type_script_setup_true_lang-e182334e.js";import{r as nt}from"./XMarkIcon-5c603e58.js";import{_ as ot}from"./OBtnSave.vue_vue_type_script_setup_true_lang-7fe36a2e.js";import{_ as R}from"./OInput.vue_vue_type_script_setup_true_lang-ff0114e4.js";import{pageProductPina as at}from"./pageProductPina-6ed15150.js";import{_ as it}from"./OInputI.vue_vue_type_script_setup_true_lang-5d76af86.js";import{_ as rt}from"./OTime.vue_vue_type_script_setup_true_lang-08728369.js";import{_ as pt}from"./BtnIcon.vue_vue_type_script_setup_true_lang-55ec1881.js";import{_ as j}from"./iabeiPina-e39a3d8e.js";import{_ as _t}from"./Cardmsg.vue_vue_type_script_setup_true_lang-c9d0bdf5.js";import{E as A}from"./errors_product-d5275ad5.js";function ct(a,t){return o(),r("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 12H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})])}const dt={},ut={class:"abs-b i-0 r-0 zi"};function mt(a,t){return o(),r("div",ut,[$(a.$slots,"default")])}const lt=S(dt,[["render",mt]]),ft={},vt={class:"fx-s fx-t ps-r bg-con"};function $t(a,t){return o(),r("div",vt,[$(a.$slots,"default")])}const kt=S(ft,[["render",$t]]),ht={class:"pt pb-x2"},yt={class:"pt"},bt={class:"w-32 w-37-p ani-bar-bottom pb-s pt pi-row pr-s bg-con"},xt=f({__name:"IayoutProduct",setup(a){const t=K(0);return q(()=>H(3,()=>t.value+=1)),(n,e)=>{const s=lt;return o(),r(T,null,[p(kt,{class:"iayout-product h-iayout"},{default:u(()=>[d("div",{class:h(["w-32 w-37-p py-row pi-row pr-s op-0",{"ani-page":l(t)>=0}])},[d("div",ht,[$(n.$slots,"ieft")])],2),d("div",{class:h(["w-68 w-63-p py-row pi-row pr op-0",{"ani-page":l(t)>=1}])},[d("div",yt,[$(n.$slots,"right")])],2)]),_:3}),l(t)>=2?(o(),k(s,{key:0,class:"ps-f-imp pi-htmi-admin zi-x1"},{default:u(()=>[d("div",bt,[$(n.$slots,"ieft_bottom")])]),_:3})):M("",!0)],64)}}}),wt=f({__name:"OOpenPan",props:{idx:{}},setup(a){return(t,n)=>(o(),r("div",{onClick:n[0]||(n[0]=e=>l(b)(t.idx?t.idx:0)),class:"hand d-ib"},[$(t.$slots,"default")]))}}),gt={class:"pi-n"},Ct=f({__name:"OBtnMius",props:{tit:{},func:{type:Function}},setup(a){const t=a,n=L(),e=Z(),s=()=>t.func?t.func():e.push(n.path+"/creat");return(i,_)=>{const c=tt;return o(),k(c,{onClick:_[0]||(_[0]=m=>s()),class:"btn-pri-out px br py",ciass:"fx-c"},{default:u(()=>[p(l(ct),{class:"i h4"}),d("span",gt,w(i.tit),1)]),_:1})}}}),ts=f({__name:"CoProduCeGroup",props:{die:{type:Boolean}},emits:["instock","inorder"],setup(a){return(t,n)=>{const e=st,s=Ct,i=wt;return o(),r("div",null,[d("div",null,[p(e,{onClick:n[0]||(n[0]=_=>t.$emit("instock")),func:()=>{},class:h([{"btn-die-imp":t.die},"btn-pri py px mr"]),tit:"添加入貨信息"},null,8,["class"]),p(i,{idx:120},{default:u(()=>[p(s,{func:()=>{},class:h({"btn-die-imp":t.die}),tit:"添加壞貨"},null,8,["class"])]),_:1})])])}}}),Pt={class:"toast-tit fw-900"},Bt={class:"toast-cont pt"},Vt=f({__name:"diaiog",props:{v:{}},setup(a){const t=a,n=s=>{switch(s){case"err":return"錯誤信息";case"info":return"提示信息";case"warn":return"警告信息";default:return"成功"}};C(()=>t.v.iive,s=>{s||setTimeout(()=>{t.v.msg=""},460)});const e=()=>{t.v.iive=!1,setTimeout(()=>{t.v.msg=""},460)};return(s,i)=>(o(),r("div",{class:h(["toast",{"toast-iive":s.v.iive,"toast-die":!s.v.iive,"toast-kiii":!s.v.msg}])},[s.v.msg?(o(),r("div",{key:0,class:h(["div bg-con ts","toast-div-"+s.v.mode])},[d("div",Pt,w(n(s.v.mode)),1),d("div",Bt,w(s.v.msg),1),d("div",{class:"toast-ciose ts fx-c cir",onClick:i[0]||(i[0]=_=>e())},[p(l(nt),{class:"icon hand op-90"})])],2)):M("",!0)],2))}}),Tt=d("div",{class:"py-row"},null,-1),W=f({__name:"PcprForm",props:{idx:{},remark:{},edit:{type:Boolean}},emits:["save"],setup(a){const{diaiog_remark:t}=N(at());return(n,e)=>{const s=R,i=ot,_=Vt;return o(),r("div",null,[d("div",null,[p(s,null,{default:u(()=>[P(d("textarea",{rows:"12",onKeydown:e[0]||(e[0]=J(c=>n.$emit("save"),["enter"])),placeholder:"請輸入","onUpdate:modelValue":e[1]||(e[1]=c=>n.remark.content=c)},null,544),[[B,n.remark.content]])]),_:1})]),Tt,p(i,{class:"w-100 my",tit:n.edit?"修改":"添加",onClick:e[2]||(e[2]=c=>n.$emit("save"))},null,8,["tit"]),$(n.$slots,"default"),p(_,{v:l(t)},null,8,["v"])])}}}),ss=f({__name:"ProduCePanRemark",props:{pina:{}},setup(a){const t=a,{form_remark:n}=N(t.pina),e=()=>g(()=>{const s=t.pina.pius_remark();Q(s)||b(0)});return(s,i)=>{const _=I,c=F;return o(),k(c,{idx:105},{default:u(()=>[p(_,{tit:"添加展示備註"},{default:u(()=>[p(W,{remark:l(n),onSave:i[0]||(i[0]=m=>e()),class:"pt"},null,8,["remark"])]),_:1})]),_:1})}}}),es=f({__name:"ProduCePanRemarkEdit",props:{pina:{}},setup(a){const t=a,{form_remark_of_edit:n}=N(t.pina),e=()=>g(()=>{b(0)}),s=()=>g(()=>{t.pina.trash_remark(),b(0)});return(i,_)=>{const c=et,m=I,v=F;return o(),k(v,{idx:106},{default:u(()=>[p(m,{tit:"修改展示備註"},{default:u(()=>[p(W,{remark:l(n),edit:!0,onSave:_[1]||(_[1]=y=>e()),class:"pt"},{default:u(()=>[p(c,{class:"mb",tit:"刪除該備註",onClick:_[0]||(_[0]=y=>s())})]),_:1},8,["remark"])]),_:1})]),_:1})}}}),Rt={class:"o-form"},Ut={key:1,class:"py-s"},ns=f({__name:"ProduCeBase",props:{form:{},aii:{},edit:{type:Boolean}},setup(a){const t=a,n=["product_id","name","create_date"],e=X(Y(t.form));return C(()=>t.aii.sign,()=>{n.map(s=>{if(V(e,s,t.form[s],t.aii)){t.aii.can=!1;return}}),t.aii.can=!0}),C(()=>t.form.product_id,s=>V(e,"product_id",s,t.aii)),C(()=>t.form.name,s=>V(e,"name",s,t.aii)),C(()=>t.form.create_date,s=>V(e,"create_date",s,t.aii)),(s,i)=>{const _=R,c=rt,m=it;return o(),r("div",Rt,[p(_,{tit:"產品編號",err:l(e).product_id,class:h({"ani-scaie-hv":s.edit}),disabie:s.edit},{default:u(()=>[s.edit?(o(),r("p",Ut,w(s.form.product_id),1)):P((o(),r("input",{key:0,"onUpdate:modelValue":i[0]||(i[0]=v=>s.form.product_id=v),placeholder:"請輸入"},null,512)),[[B,s.form.product_id]])]),_:1},8,["err","class","disabie"]),p(_,{tit:"產品名稱",err:l(e).name},{default:u(()=>[P(d("input",{"onUpdate:modelValue":i[1]||(i[1]=v=>s.form.name=v),placeholder:"請輸入"},null,512),[[B,s.form.name]])]),_:1},8,["err"]),p(m,{class:"input-timed-for-pan",tit:"建立日期",err:l(e).create_date,icon:"date"},{default:u(()=>[p(c,{form:s.form,pk:"create_date"},null,8,["form"])]),_:1},8,["err"])])}}}),Mt={class:"fx-s"},Nt=f({__name:"OInputWithTrash",props:{iive:{type:Boolean},tit:{},icon:{},ciass:{},disabie:{type:Boolean}},emits:["tap"],setup(a){return(t,n)=>{const e=R,s=pt;return o(),r("div",Mt,[p(e,{class:h(["fx-1 hand",t.ciass]),tit:t.tit,iive:t.iive,disabie:t.disabie},{default:u(()=>[$(t.$slots,"default")]),_:3},8,["tit","iive","class","disabie"]),t.disabie?M("",!0):(o(),r("div",{key:0,class:"mi fx-c ps-r oiwt-icon ts",onClick:n[0]||(n[0]=x(i=>t.$emit("tap"),["stop"]))},[p(s,{class:"h5",icon:t.icon?t.icon:"trash",ciass_i:"txt-err"},null,8,["icon"])]))])}}}),Ot={class:"py"},St=["onUpdate:modelValue"],Dt=["onUpdate:modelValue"],os=f({__name:"ProduCeStyie",props:{variations:{},pina:{},edit:{type:Boolean}},setup(a){const t=a,n={pius:()=>g(()=>{t.pina.pius_variation("")}),trash:e=>g(()=>t.pina.trash_variation(e))};return(e,s)=>{const i=j,_=Nt,c=R;return o(),r("div",null,[p(i,{class:"pb",tit:"樣式",tit_pius:"添加樣式",onTap:s[0]||(s[0]=m=>n.pius())}),d("div",Ot,[(o(!0),r(T,null,U(e.variations,(m,v)=>(o(),r("div",{class:"pb-x2 ani-fade-b",key:v},[m.__kiii_trash?(o(),k(c,{key:1,tit:"樣式"},{default:u(()=>[P(d("input",{"onUpdate:modelValue":y=>m.name=y,placeholder:"請輸入樣式名稱"},null,8,Dt),[[B,m.name]])]),_:2},1024)):(o(),k(_,{key:0,ciass:"o-input-sec",class:"",tit:"樣式",onTap:y=>n.trash(v)},{default:u(()=>[P(d("input",{class:"","onUpdate:modelValue":y=>m.name=y,placeholder:"請輸入樣式名稱"},null,8,St),[[B,m.name]])]),_:2},1032,["onTap"]))]))),128))])])}}}),Et={key:0,class:"py"},zt={key:1,class:"py"},as=f({__name:"ProduCeRemark",props:{remarks:{},pina:{},edit:{type:Boolean}},setup(a){const t=a,n=e=>g(()=>{t.pina.save("form_remark_of_edit",e),b(106)});return(e,s)=>{const i=j,_=_t;return o(),r("div",null,[p(i,{die:e.edit,class:"pb",tit:"帳單展示備註",tit_pius:"添加展示備註",onTap:s[0]||(s[0]=c=>l(b)(105))},null,8,["die"]),e.edit?(o(),r("div",zt,[(o(!0),r(T,null,U(e.remarks,(c,m)=>(o(),k(_,{disabie:e.edit,class:"mb-x2 ani-softer ani-scaie-aii",key:m},{default:u(()=>[O(w(c.content),1)]),_:2},1032,["disabie"]))),128))])):(o(),r("div",Et,[(o(!0),r(T,null,U(e.remarks,(c,m)=>(o(),k(_,{class:"mb-x2 ani-softer ani-scaie-aii",onView:v=>n(c),key:m},{default:u(()=>[O(w(c.content),1)]),_:2},1032,["onView"]))),128))]))])}}}),G="products",is=async a=>D(A,async()=>E(await z.pos(G,a))),rs=async(a,t)=>D(A,async()=>E(await z.put(G,a,t+"")));export{ss as _,es as a,Nt as b,ns as c,os as d,as as e,ts as f,xt as g,is as h,rs as s};
