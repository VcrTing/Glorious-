import{_ as pi,a as mi}from"./OBtnSearch.vue_vue_type_script_setup_true_lang-15f281d0.js";import{_ as ui}from"./OPager.vue_vue_type_script_setup_true_lang-1a9d0755.js";import{_ as J,a as li}from"./CoPidProductExpan.vue_vue_type_script_setup_true_lang-af200b6e.js";import{r as di}from"./DocumentTextIcon-019cac7e.js";import{d as k,o as v,y as V,w as l,b as r,i as s,G as fi,ak as vi,al as bi,q as Q,am as X,x as ii,E as ti,s as D,H as A,f as N,n as M,W as wi,c as y,a as n,D as R,k as b,R as hi,an as K,m as q,V as T,u as ei,z as $i,A as gi,t as x,e as B,F as yi,U as ki,ah as E,ai as F,aj as W,g as C,a8 as oi,h,ag as $,B as g,C as P,a3 as xi,j as Pi,p as Ci,l as Si,Z as Ti,a2 as Vi,r as Ii,S as Ei}from"./index-3f36fa08.js";import{_ as Ui}from"./OBtnPius.vue_vue_type_script_setup_true_lang-8f66403c.js";import{_ as Ai}from"./OiX2.vue_vue_type_script_setup_true_lang-43d9178f.js";import{_ as Oi}from"./OSearch.vue_vue_type_script_setup_true_lang-fef6184d.js";import{_ as Ri}from"./OTimeFiiter.vue_vue_type_script_setup_true_lang-bafd564b.js";import{_ as Bi}from"./OSeiect.vue_vue_type_script_setup_true_lang-4df5e2ab.js";import{g as Di}from"./giobaiPina-c5caaab5.js";import{s as L}from"./strapi-fb584718.js";import{_ as Fi}from"./IayoutTabie.vue_vue_type_script_setup_true_lang-3fb137ea.js";import{_ as Ni}from"./OTabieEdit.vue_vue_type_script_setup_true_lang-ad47a18b.js";import{_ as Mi}from"./OTabieDetaii.vue_vue_type_script_setup_true_lang-ea9bcd76.js";import{_ as Hi}from"./CkClipboard.vue_vue_type_script_setup_true_lang-b1fb8546.js";import{pageProducEditPina as U}from"./pageProducEditPina-d8c98f36.js";import{pageProductInstockPina as si}from"./pageProductInstockPina-a59ff52a.js";import{a as Y,d as ji}from"./view-78b800b1.js";import{_ as ni,a as ri}from"./Pan.vue_vue_type_script_setup_true_lang-27d6a020.js";import{_ as zi}from"./OBtnSave.vue_vue_type_script_setup_true_lang-7fe36a2e.js";import{_ as G}from"./OInputI.vue_vue_type_script_setup_true_lang-5d76af86.js";import{_ as Yi}from"./OInput.vue_vue_type_script_setup_true_lang-ff0114e4.js";import{_ as qi}from"./OTime.vue_vue_type_script_setup_true_lang-08728369.js";import{_ as Li,a as Gi,b as Ki,c as Wi,d as Zi,s as Ji}from"./ProduInvInStockInner.vue_vue_type_script_setup_true_lang-5d988fe1.js";import{_ as Qi}from"./OTrPure.vue_vue_type_script_setup_true_lang-f9fdd814.js";import{c as Xi}from"./choiseOnePina-bf86d33f.js";import{a as it}from"./product_trs-bea636f4.js";import{_ as tt}from"./ProduNewInstockTabie.vue_vue_type_script_setup_true_lang-ed8a7636.js";import{s as et}from"./serv_product_iist-4d9d2bf1.js";import{_ as ot}from"./OSaveBackBtnsGroup.vue_vue_type_script_setup_true_lang-006ddd08.js";import{_ as st}from"./IayoutForm.vue_vue_type_script_setup_true_lang-494556d6.js";import{_ as nt}from"./Oi.vue_vue_type_script_setup_true_lang-bb9a139d.js";import{_ as rt}from"./OIoadCir.vue_vue_type_script_setup_true_lang-2b598d27.js";import{_ as at}from"./BtnIconX2.vue_vue_type_script_setup_true_lang-0942329a.js";import{p as ai}from"./pageOrderPina-32895560.js";import{b as Z}from"./route-block-83d24a4e.js";import"./MBtn.vue_vue_type_script_setup_true_lang-ecbf7228.js";import"./PlusCircleIcon-687c7a0d.js";import"./BtnIcon.vue_vue_type_script_setup_true_lang-55ec1881.js";import"./datepicker.esm-24f92680.js";import"./serv_suppiier_iist-eaad2cf3.js";import"./serv_user_iist-4ad1c4a1.js";import"./serv_warehouse_iist-72eb8079.js";import"./InboxIcon-5b36fe30.js";import"./OIoadDot.vue_vue_type_script_setup_true_lang-b4753338.js";import"./OTr.vue_vue_type_script_setup_true_lang-e485e3b2.js";import"./serv_iabei_with_product-26a391f3.js";import"./utii-a76025eb.js";import"./serv_variation_with_product-7b0e2d97.js";import"./errors_product-d5275ad5.js";import"./BtnTab.vue_vue_type_script_setup_true_lang-6f4ed7b2.js";import"./CoSuppiierSeiectPure.vue_vue_type_script_setup_true_lang-d31422ee.js";import"./Dropdown.vue_vue_type_script_setup_true_lang-fe355e5e.js";import"./OModTrash.vue_vue_type_script_setup_true_lang-dda5443b.js";import"./ModInner.vue_vue_type_script_setup_true_lang-0652ec33.js";import"./CoWarehouseSeiectPure.vue_vue_type_script_setup_true_lang-e9d5d444.js";import"./OTabieTrash-c0c22196.js";import"./XMarkIcon-5c603e58.js";import"./fioat-7d61d7cc.js";const _t=k({__name:"OBtnInOrder",setup(m){return(i,u)=>{const e=J;return v(),V(e,{class:"py mw-8em",tit:"產品熱銷列表"},{default:l(()=>[r(s(di),{class:"i h5"}),fi("  ")]),_:1})}}}),ct=(m="_")=>bi().format("YYYY"+m+"MM"+m+"DD"+m+"HH"+m+"mm"),pt=(m,i="產品_",u="xlsx")=>{const e=`${i}${ct()}.${u}`;let t=document.createElement("a");t.download=e,t.style.visibility="hidden",t.href=m,document.body.appendChild(t),t.click(),setTimeout(()=>document.body.removeChild(t),1200)},_i=async m=>{try{m&&pt(vi+"/"+m)}catch(i){console.log(i)}},mt="excei_hot_sale",ut=async m=>Q(ti,async()=>X(await ii.get(mt,L.buiid_pager(m,{})))),lt="excei_less_inventory",dt=async m=>Q(ti,async()=>X(await ii.get(lt,L.buiid_pager(m,{})))),ft={class:"fx-s"},vt={class:"fx-1 row fx-i"},bt={class:"pi fx-c"},wt=n("span",{class:"px-s"},null,-1),ht=n("span",{class:"pi-n"},"產品缺貨列表",-1),$t=k({__name:"ProductIistFiiter",props:{aii:{}},emits:["search"],setup(m,{emit:i}){const u=m,e={search:()=>u.aii.ioading?void 0:i("search"),reset:()=>b(()=>{hi({},u.aii.condition),e.search()})},{iabeis:t,suppiiers:o}=D(Di()),p=A(()=>K(t.value,"標籤")),d=A(()=>K(o.value,"供應商")),_=N(0);M(()=>wi(7,()=>_.value+=1,32));const a=N(!1),c=()=>b(async()=>{if(!a.value){a.value=!0;let f=await dt(u.aii.condition);console.log("LESS INVENTORY =",f),q(f)?T(f+""):(f=f,f.data?_i(f.data):T("暫無法導出列表，請重試！！！")),setTimeout(()=>a.value=!1,800)}});return(f,w)=>{const I=Bi,H=Ri,j=Oi,z=pi,S=Ai,ci=J;return v(),y("div",ft,[n("div",vt,[n("div",{class:R(["w-20 op-0",{"ani-fiiter":s(_)>=0}])},[r(I,{class:"input w-100 ip-fiiter fix-seiect",onChange:w[0]||(w[0]=O=>e.search()),form:f.aii.condition,pk:"label",many:s(p)},null,8,["form","many"])],2),n("div",{class:R(["w-20 op-0",{"ani-fiiter":s(_)>=1}])},[r(I,{class:"input w-100 ip-fiiter fix-seiect",onChange:w[1]||(w[1]=O=>e.search()),form:f.aii.condition,pk:"supplier",many:s(d)},null,8,["form","many"])],2),n("div",{class:R(["w-21 w-28-p op-0",{"ani-fiiter":s(_)>=2}])},[r(H,{onResuit:w[2]||(w[2]=O=>e.search()),class:"input ip-fiiter",form:f.aii.condition,pk:"new_restock_date",pchd:"最新入貨日期"},null,8,["form"])],2),r(j,{onResuit:w[3]||(w[3]=O=>e.search()),pchd:"請輸入產品編號、名稱進行搜索",class:R(["fx-1 op-0 ip-fiiter",{"ani-fiiter":s(_)>=3}]),aii:f.aii.condition,pk:"search"},null,8,["class","aii"])]),n("div",bt,[r(z,{aii:f.aii,onClick:w[4]||(w[4]=O=>e.search())},null,8,["aii"]),wt,r(ci,{onClick:w[5]||(w[5]=O=>c()),class:R(["py btn-iong op-0",{"ani-fiiter":s(_)>=5}])},{default:l(()=>[r(S,{class:"i h4",icon:"excei"}),ht]),_:1},8,["class"])])])}}}),gt={class:"w-15 fx-i pr-s eiip-3"},yt={class:"pr-s d-ib"},kt={class:"w-16 eiip-3"},xt={class:"w-9"},Pt={class:"w-9"},Ct={class:"w-9"},St={class:"w-7"},Tt={class:"w-10"},Vt={class:"w-14 pr-s"},It={key:0},Et={class:"fx-1 fx-s"},Ut={class:"d-ib fx-wp pi ta-r pr-s"},At={class:"fx-r w-100"},Ot=k({__name:"ProductIistTabie",props:{aii:{}},setup(m){const i=m,u=ei();M(()=>$i(i.aii,[{ciass:"w-15",tit:"產品編號",sort_up:()=>b(()=>E(i.aii.many,"product_id",!0)),sort_down:()=>b(()=>E(i.aii.many,"product_id")),sort_reset:()=>F(i.aii)},{ciass:"w-16",tit:"產品名稱"},{ciass:"w-9",tit:"最新入貨價錢"},{ciass:"w-9",tit:"最新最低價錢"},{ciass:"w-9",tit:"最新售價",sort_up:()=>b(()=>E(i.aii.many,"new_selling_price",!0)),sort_down:()=>b(()=>E(i.aii.many,"new_selling_price")),sort_reset:()=>F(i.aii)},{ciass:"w-7",tit:"樣式數量"},{ciass:"w-10",tit:"最新供應商"},{ciass:"w-14",tit:"最新入貨時間",sort_up:()=>b(()=>W(i.aii.many,"new_restock_date",!0)),sort_down:()=>b(()=>W(i.aii.many,"new_restock_date")),sort_reset:()=>F(i.aii)},{ciass:"fx-1",tit:"總庫存",sort_up:()=>b(()=>E(i.aii.many,"total_stock",!0)),sort_down:()=>b(()=>E(i.aii.many,"total_stock")),sort_reset:()=>F(i.aii)}]));const e={editFuture:async t=>{U().ciear(),await U().fetchOne(t)},dump:()=>u.push("/admin/product_inventory_iist/edit"),fetchOne:async t=>{await si().fetchOne(t)&&ki(101)}};return(t,o)=>{const p=Hi,d=Mi,_=Ni,a=Fi;return v(),V(a,{aii:t.aii},{default:l(()=>[(v(!0),y(yi,null,gi(t.aii.many,(c,f)=>(v(),y("div",{class:"td",key:f},[n("div",gt,[n("div",yt,x(c.product_id),1),r(p,{txt:c.product_id},null,8,["txt"])]),n("div",kt,x(c.name),1),n("div",xt,x(s(Y)(c.new_restock_price)),1),n("div",Pt,x(s(Y)(c.new_lowest_price)),1),n("div",Ct,x(s(Y)(c.new_selling_price)),1),n("div",St,x(c.variations?c.variations.length:0),1),n("div",Tt,x(c.new_supplier),1),n("div",Vt,[c.new_restock_date?(v(),y("span",It,x(s(ji)(c.new_restock_date,!0)),1)):B("",!0)]),n("div",Et,[n("div",null,x(c.total_stock),1),n("div",Ut,[r(d,{id:c.id,func:e.fetchOne,class:"w-100",tit:"庫存詳情"},null,8,["id","func"]),n("div",At,[r(_,{class:"txt-pri",id:c.id,func:e.editFuture,onTap:e.dump},null,8,["id","func","onTap"])])])])]))),128))]),_:1},8,["aii"])}}}),Rt={class:"o-form"},Bt=k({__name:"CoProductInventAiiocatForm",props:{form:{},aii:{}},setup(m){const i=m,u=["num_warehouse"],e=C(oi(i.form));return h(()=>i.aii.sign,()=>{u.map(t=>{if($(e,t,i.form[t],i.aii)){i.aii.can=!1;return}}),i.aii.can=!0}),h(()=>i.form.num_warehouse,t=>$(e,"num_warehouse",t,i.aii)),(t,o)=>{const p=G;return v(),y("div",Rt,[r(p,{tit:"倉庫數量",err:s(e).num_warehouse,icon:"store"},{default:l(()=>[g(n("input",{"onUpdate:modelValue":o[0]||(o[0]=d=>t.form.num_warehouse=d),type:"number",placeholder:"請輸入"},null,512),[[P,t.form.num_warehouse]])]),_:1},8,["err"]),r(p,{tit:"A店鋪數量",err:s(e).num_a_shop,icon:"store"},{default:l(()=>[g(n("input",{"onUpdate:modelValue":o[1]||(o[1]=d=>t.form.num_a_shop=d),type:"number",placeholder:"請輸入"},null,512),[[P,t.form.num_a_shop]])]),_:1},8,["err"]),r(p,{tit:"B店鋪數量",err:s(e).num_b_shop,icon:"store"},{default:l(()=>[g(n("input",{"onUpdate:modelValue":o[2]||(o[2]=d=>t.form.num_b_shop=d),type:"number",placeholder:"請輸入"},null,512),[[P,t.form.num_b_shop]])]),_:1},8,["err"])])}}}),Dt={class:"o-form"},Ft=k({__name:"CoProductIncomeCreatForm",props:{form:{},aii:{}},setup(m){const i=m,u=["in_date","in_time","suppiier_number","suppiier_name","name","number","in_price","iow_price","price","invent"],e=C(oi(i.form));return h(()=>i.aii.sign,()=>{u.map(t=>{if($(e,t,i.form[t],i.aii)){i.aii.can=!1;return}}),i.aii.can=!0}),h(()=>i.form.in_date,t=>$(e,"in_date",t,i.aii)),h(()=>i.form.in_time,t=>$(e,"in_time",t,i.aii)),h(()=>i.form.suppiier_number,t=>$(e,"suppiier_number",t,i.aii)),h(()=>i.form.suppiier_name,t=>$(e,"suppiier_name",t,i.aii)),h(()=>i.form.name,t=>$(e,"name",t,i.aii)),h(()=>i.form.number,t=>$(e,"number",t,i.aii)),h(()=>i.form.in_price,t=>$(e,"in_price",t,i.aii)),h(()=>i.form.iow_price,t=>$(e,"iow_price",t,i.aii)),h(()=>i.form.price,t=>$(e,"price",t,i.aii)),h(()=>i.form.invent,t=>$(e,"invent",t,i.aii)),(t,o)=>{const p=qi,d=G,_=Yi;return v(),y("div",Dt,[r(d,{tit:"入庫日期",err:s(e).in_date,icon:"date"},{default:l(()=>[r(p,{form:t.form,pk:"in_date"},null,8,["form"])]),_:1},8,["err"]),r(d,{tit:"入庫時間",err:s(e).in_time,icon:"hour"},null,8,["err"]),r(_,{tit:"供應商編號",err:s(e).suppiier_number},{default:l(()=>[g(n("input",{"onUpdate:modelValue":o[0]||(o[0]=a=>t.form.suppiier_number=a),placeholder:"請輸入"},null,512),[[P,t.form.suppiier_number]])]),_:1},8,["err"]),r(_,{tit:"供應商名稱*",err:s(e).suppiier_name},{default:l(()=>[g(n("input",{"onUpdate:modelValue":o[1]||(o[1]=a=>t.form.suppiier_name=a),placeholder:"請輸入"},null,512),[[P,t.form.suppiier_name]])]),_:1},8,["err"]),r(_,{tit:"產品編號",err:s(e).number},{default:l(()=>[g(n("input",{"onUpdate:modelValue":o[2]||(o[2]=a=>t.form.number=a),placeholder:"請輸入"},null,512),[[P,t.form.number]])]),_:1},8,["err"]),r(_,{tit:"產品名稱",err:s(e).name},{default:l(()=>[g(n("input",{"onUpdate:modelValue":o[3]||(o[3]=a=>t.form.name=a),placeholder:"請輸入"},null,512),[[P,t.form.name]])]),_:1},8,["err"]),r(_,{tit:"入貨價錢",err:s(e).in_price},{default:l(()=>[g(n("input",{"onUpdate:modelValue":o[4]||(o[4]=a=>t.form.in_price=a),placeholder:"請輸入"},null,512),[[P,t.form.in_price]])]),_:1},8,["err"]),r(_,{tit:"最低價錢",err:s(e).iow_price},{default:l(()=>[g(n("input",{"onUpdate:modelValue":o[5]||(o[5]=a=>t.form.iow_price=a),placeholder:"請輸入"},null,512),[[P,t.form.iow_price]])]),_:1},8,["err"]),r(_,{tit:"售價",err:s(e).price},{default:l(()=>[g(n("input",{"onUpdate:modelValue":o[6]||(o[6]=a=>t.form.price=a),placeholder:"請輸入"},null,512),[[P,t.form.price]])]),_:1},8,["err"]),r(_,{tit:"入庫數量",err:s(e).invent},{default:l(()=>[g(n("input",{"onUpdate:modelValue":o[7]||(o[7]=a=>t.form.invent=a),placeholder:"請輸入"},null,512),[[P,t.form.invent]])]),_:1},8,["err"])])}}}),Nt=n("div",{class:"py-row"},null,-1),Mt=n("div",{class:"py-row"},null,-1),Ht=n("h5",null,"倉存數量分配",-1),jt=n("div",{class:"pt-row pb-s"},null,-1),zt={class:"py-x3"},Yt=k({__name:"ProductIistPanPius",props:{idx:{}},setup(m){const i=C({ioading:!1,msg:"",can:!1,sign:0}),u=C({number:"ASD 1234",name:"Hello Kitty MG",suppiier_number:"",suppiier_name:"",in_date:"2022-12-12",in_time:"15:00",in_price:null,iow_price:null,price:null,stock_price:null,invent:null});return(e,t)=>{const o=Ft,p=Bt,d=zi,_=ni,a=ri;return v(),V(a,{idx:e.idx?e.idx:100},{default:l(()=>[r(_,{tit:"添加入貨信息"},{default:l(()=>[Nt,r(o,{form:s(u),aii:s(i)},null,8,["form","aii"]),Mt,Ht,jt,r(p,{form:s(u),aii:s(i)},null,8,["form","aii"]),n("div",zt,[r(d,{class:"w-100",tit:"添加"})])]),_:1})]),_:1},8,["idx"])}}}),qt=n("div",{class:"py-row"},null,-1),Lt={class:"tabie tabie-def"},Gt={class:"td"},Kt={class:"w-28"},Wt={class:"w-50"},Zt={class:"fx-1 fx-r"},Jt=k({__name:"CoPidBadTabie",props:{one_of_edit:{}},setup(m){const i=m,u=ei(),e=A(()=>{const p=i.one_of_edit.broken_products?i.one_of_edit.broken_products:[];return xi(p)?p:p.data?L.iist(p):[]}),t=A((p=0)=>(e.value&&e.value.map(d=>{p+=d.quantity}),p)),o=()=>b(()=>{Xi().save_product_choise(i.one_of_edit),u.push("/admin/bad_goods_iist")});return(p,d)=>{const _=Qi,a=Li;return v(),y("div",null,[qt,n("div",Lt,[r(_,{trs:s(it)},null,8,["trs"]),n("div",Gt,[n("div",Kt,x(s(e).length)+"  條紀錄 ",1),n("div",Wt," 共 "+x(s(t))+"  件 ",1),n("div",Zt,[r(a,{onClick:d[0]||(d[0]=c=>o()),tit:"壞貨列表"})])])])])}}}),Qt={class:"tabie tabie-def"},Xt=n("div",{class:"tr py-n"},"標籤",-1),ie={key:0,class:"td"},te=k({__name:"CoPidTagsTabie",props:{labels:{}},setup(m){const i=m,u=A((e="")=>{const t=i.labels?i.labels:[];return t.map((o,p)=>{e+=o.name,p<t.length-1&&(e+="、 ")}),e});return(e,t)=>(v(),y("div",null,[n("div",Qt,[Xt,e.labels?(v(),y("div",ie,x(s(u)),1)):B("",!0)])]))}}),ee=k({__name:"ProductIistPanDetaii",setup(m){const{product_of_view:i}=D(si()),u=C({msg:"",many:[{}],pager:{},ioading:!1,trs:[]}),e=C({msg:"",many:[{}],pager:{},ioading:!1,trs:[]}),t=C({msg:"",many:[{}],pager:{},ioading:!1,trs:[]});return M(()=>{console.log(i)}),(o,p)=>{const d=li,_=te,a=Ki,c=Wi,f=Jt,w=ni,I=ri;return v(),V(I,{idx:101,big:!0},{default:l(()=>[r(w,{tit:"庫存詳情"},{default:l(()=>[r(d,{product:s(i),class:"mb"},null,8,["product"]),r(_,{labels:s(i).labels,class:"pb"},null,8,["labels"]),r(tt,{one_of_edit:s(i),aii:s(e),kiii_option:!0},null,8,["one_of_edit","aii"]),r(Gi,{one_of_edit:s(i),aii:s(u),kiii_option:!0,class:"pb-x2"},null,8,["one_of_edit","aii"]),r(a,{one_of_edit:s(i),class:"pb"},null,8,["one_of_edit"]),r(c,{one_of_edit:s(i),aii:s(t),class:"pb",kiii_option:!0},null,8,["one_of_edit","aii"]),r(f,{one_of_edit:s(i),class:"pb-x3"},null,8,["one_of_edit"])]),_:1})]),_:1})}}}),oe=k({__name:"ProductIistPan",setup(m){return(i,u)=>(v(),y("div",null,[r(Yt),r(ee)]))}}),se={class:"py-x3 mb fx-i"},ne=n("div",{class:"pi"},"添加入貨信息",-1),re={class:"row"},ae={class:"w-333"},_e={class:"w-333"},ce=n("div",{class:"py-x3"},[n("br"),n("br")],-1),pe=k({__name:"ProductInvInStockAnywhere",setup(m){const i=N(),{pag:u,one_of_edit:e}=D(U()),t=A(()=>!e.value.id),o=C({product_id:"",product_id_err:!1}),p=C({ioading:!1,msg:"",can:!1,sign:0}),d=C({ioading:!1,msg:""}),_={cannot:()=>!o.product_id&&u.value>0?(o.product_id_err=!0,T("請輸入要加貨的產品編號。"),!0):(o.product_id_err=!1,!1),hasone:()=>b(async()=>{if(!d.ioading){if(_.cannot())return;if(d.ioading=!0,await U().fetchOne(o.product_id.trim())){const c=e.value;c.id?i.value.setv(c.new_restock_price,c.new_lowest_price,c.new_selling_price):(T("無法找到該產品！！！"),_.ciear())}else T("無法找到該產品！！！"),_.ciear();setTimeout(()=>{d.ioading=!1},400)}}),ciear:()=>b(()=>{U().save("one_of_edit",{}),o.product_id="",o.product_id_err=!1}),submit:()=>Pi(p,()=>{if(_.cannot())return null;const a=i.value.buiid();return a&&(a.product=o.product_id),a},async a=>{if(a){const c=await Ji(a);q(c)?Ci(c,p):_.success()}}),init:()=>b(()=>{const a=e.value;a.id&&(i.value.setv(a.new_restock_price,a.new_lowest_price,a.new_selling_price),o.product_id=a.product_id,o.product_id_err=!1)}),back:()=>b(()=>{u.value=0}),success:()=>b(async()=>{Si("產品入貨成功！！！"),_.ciear(),_.back(),ai().doFresh()})};return M(_.init),(a,c)=>{const f=at,w=G,I=rt,H=nt,j=st,z=ot;return v(),y("section",null,[n("h3",se,[r(f,{onClick:c[0]||(c[0]=S=>_.back()),icon:"c-i",ciass_i:"h3"}),ne]),n("div",null,[r(j,{tit:"加貨產品",class:"pb-x3 mb"},{default:l(()=>[n("div",re,[n("div",ae,[r(w,{icon:"product",class:"ps-r",err:s(o).product_id_err,tit:"產品編號"},{default:l(()=>[g(n("input",{onBlur:c[1]||(c[1]=(...S)=>_.hasone&&_.hasone(...S)),onKeydown:c[2]||(c[2]=Ti((...S)=>_.hasone&&_.hasone(...S),["enter"])),"onUpdate:modelValue":c[3]||(c[3]=S=>s(o).product_id=S),placeholder:"請輸入要加貨的產品的編號"},null,544),[[P,s(o).product_id]])]),_:1},8,["err"])]),n("div",_e,[s(d).ioading?(v(),V(I,{key:0,class:"mr ani-softer"})):B("",!0),s(t)?B("",!0):(v(),V(H,{key:1,class:"i h3 txt-succ ani-fade-b",icon:"check"}))])])]),_:1})]),r(Zi,{kiii_vars:s(t),aii:s(p),ref_key:"inner",ref:i,onSubmit:_.submit},{default:l(()=>[r(z,{aii:s(p),ciass:"w-100",tit_save:"儲存",onBack:c[4]||(c[4]=S=>_.back()),onSave:c[5]||(c[5]=S=>_.submit())},null,8,["aii"])]),_:1},8,["kiii_vars","aii","onSubmit"]),ce])}}}),me={class:"product-pag-wrapper-two"},ue={key:0,class:"div-instock-con bg-con ani-softer pb"},le={class:"div ani-softer"},de=k({__name:"ProductPagWrapperTwo",setup(m){const{pag:i}=D(U());return i.value=0,(u,e)=>(v(),y("div",me,[s(i)>0?(v(),y("div",ue,[r(pe)])):B("",!0),g(n("div",le,[Ii(u.$slots,"default")],512),[[Vi,s(i)==0]])]))}}),fe=k({__name:"product_iist",setup(m){const i=C({many:[],chooseAii:!1,chooses:[],many_origin:[],ioading:!0,msg:"",trs:[],pager:{page:1,pageCount:1,pageSize:25,total:1},condition:{label:"",supplier:"",new_restock_date:"",search:""}}),u=N(!1),e={fetch:()=>Ei(i,async()=>et(i.condition,i.pager)),pager:(o,p)=>b(()=>{i.pager.page=o,i.pager.pageSize=p,e.fetch()}),less_inventory:()=>b(async()=>{if(!u.value){u.value=!0;let o=await ut({});console.log("HOT SALE =",o),q(o)?T(o+""):(o=o,o.data?_i(o.data):T("暫無法導出列表，請重試！！！")),setTimeout(()=>u.value=!1,800)}})},{refresh:t}=D(ai());return h(t,()=>e.fetch()),(o,p)=>{const d=Ui,_=_t,a=ui,c=mi;return v(),V(de,null,{default:l(()=>[r(c,{tit:"產品列表",tit_pius:"添加產品"},{pius:l(()=>[r(d,{class:"py mi",tit:"添加產品資料"})]),opera:l(()=>[r(_,{onClick:p[0]||(p[0]=f=>e.less_inventory())})]),fiiter:l(()=>[r($t,{aii:s(i),onSearch:p[1]||(p[1]=f=>e.fetch())},null,8,["aii"])]),con:l(()=>[r(Ot,{aii:s(i)},null,8,["aii"])]),pager:l(()=>[r(a,{pager:s(i).pager,onResuit:e.pager},null,8,["pager","onResuit"])]),extra:l(()=>[r(oe)]),_:1})]),_:1})}}});typeof Z=="function"&&Z(fe);export{fe as default};
