import{_ as N,a as V}from"./OBtnSearch.vue_vue_type_script_setup_true_lang-15f281d0.js";import{_ as A}from"./OPager.vue_vue_type_script_setup_true_lang-1a9d0755.js";import{_ as j}from"./IayoutTabie.vue_vue_type_script_setup_true_lang-3fb137ea.js";import{_ as E}from"./OTabieDetaii.vue_vue_type_script_setup_true_lang-ea9bcd76.js";import{_ as L}from"./OIoadCir.vue_vue_type_script_setup_true_lang-2b598d27.js";import{_ as P}from"./CkClipboard.vue_vue_type_script_setup_true_lang-b1fb8546.js";import{v as $}from"./vai_order-fe71df12.js";import{d as D,g as z,n as B,z as U,o as f,y as b,w as g,c as C,A as W,a as s,t as u,b as r,i as t,e as q,F as G,U as H,k as p,ah as w,ai as x,aj as S,f as I,W as J,D as d,R as K,s as M,h as Q,S as X}from"./index-3f36fa08.js";import{v as Y,m as Z}from"./view-78b800b1.js";import{p as O,s as ii}from"./pageOrderPina-32895560.js";import{_ as ti}from"./OBtnReset.vue_vue_type_script_setup_true_lang-844e1559.js";import{_ as ai}from"./OSearch.vue_vue_type_script_setup_true_lang-fef6184d.js";import{_ as si,a as oi}from"./OrderIistPanDetaii.vue_vue_type_script_setup_true_lang-e3ebec82.js";import{_ as ei}from"./OSeiect.vue_vue_type_script_setup_true_lang-4df5e2ab.js";import{b as R}from"./route-block-83d24a4e.js";import"./MBtn.vue_vue_type_script_setup_true_lang-ecbf7228.js";import"./Oi.vue_vue_type_script_setup_true_lang-bb9a139d.js";import"./DocumentTextIcon-019cac7e.js";import"./XMarkIcon-5c603e58.js";import"./OiX2.vue_vue_type_script_setup_true_lang-43d9178f.js";import"./PlusCircleIcon-687c7a0d.js";import"./InboxIcon-5b36fe30.js";import"./OIoadDot.vue_vue_type_script_setup_true_lang-b4753338.js";import"./OTr.vue_vue_type_script_setup_true_lang-e485e3b2.js";import"./BtnIconX2.vue_vue_type_script_setup_true_lang-0942329a.js";import"./BtnIcon.vue_vue_type_script_setup_true_lang-55ec1881.js";import"./strapi-fb584718.js";import"./fioat-7d61d7cc.js";import"./Dropdown.vue_vue_type_script_setup_true_lang-fe355e5e.js";import"./Pan.vue_vue_type_script_setup_true_lang-27d6a020.js";import"./OBtnSave.vue_vue_type_script_setup_true_lang-7fe36a2e.js";import"./OSaveBackBtnsGroup.vue_vue_type_script_setup_true_lang-006ddd08.js";import"./BtnTab.vue_vue_type_script_setup_true_lang-6f4ed7b2.js";import"./OTrPure.vue_vue_type_script_setup_true_lang-f9fdd814.js";import"./CoOrderDetaiiProdsTabie.vue_vue_type_script_setup_true_lang-98d79560.js";import"./ODropdownNetItem.vue_vue_type_script_setup_true_lang-57291a39.js";const ri={class:"w-25 fx-i"},ni={class:"hand"},_i={class:"w-22"},ci={class:"w-16"},mi={class:"w-16"},pi={class:"fx-1 fx-s"},di={class:"fx-1"},fi={class:"ta-r"},li=D({__name:"OrderIistTabie",props:{aii:{}},setup(h){const o=h,i=z({ioading:!1,iiveId:-1}),m={view:async a=>{i.ioading||(i.ioading=!0,i.iiveId=a,await O().fetchOne(a),H(101),setTimeout(()=>i.ioading=!1,400))}};return B(()=>U(o.aii,[{ciass:"w-25",tit:"訂單編號",sort_up:()=>p(()=>w(o.aii.many,"order_id",!0)),sort_down:()=>p(()=>w(o.aii.many,"order_id")),sort_reset:()=>x(o.aii)},{ciass:"w-22",tit:"下單時間",sort_up:()=>p(()=>S(o.aii.many,"order_date",!0)),sort_down:()=>p(()=>S(o.aii.many,"order_date")),sort_reset:()=>x(o.aii)},{ciass:"w-16",tit:"客戶"},{ciass:"w-16",tit:"總計金額",sort_up:()=>p(()=>w(o.aii.many,"total_price",!0)),sort_down:()=>p(()=>w(o.aii.many,"total_price")),sort_reset:()=>x(o.aii)},{ciass:"fx-1",tit:"狀態",sort:!1}])),(a,l)=>{const n=P,_=L,e=E,v=j;return f(),b(v,{aii:a.aii},{default:g(()=>[(f(!0),C(G,null,W(a.aii.many,(c,k)=>(f(),C("div",{class:"td",key:k},[s("div",ri,[s("span",ni,u(c.order_id),1),r(n,{class:"mi",txt:c.order_id},null,8,["txt"]),t(i).ioading&&c.id==t(i).iiveId?(f(),b(_,{key:0,class:"mi"})):q("",!0)]),s("div",_i,u(t(Y)(c.order_date)),1),s("div",ci,u(t($).member(c)),1),s("div",mi,u(t(Z)(c.total_price)),1),s("div",pi,[s("div",di,[s("span",null,u(t($).status(c)),1)]),s("div",fi,[r(e,{id:c.id,func:m.view,tit:"詳情"},null,8,["id","func"])])])]))),128))]),_:1},8,["aii"])}}}),ui={class:"fx-s"},gi={class:"fx-1 row fx-i"},hi=D({__name:"OrderIistFiiter",props:{aii:{}},emits:["search"],setup(h,{emit:o}){const i=h,m=I(),a={search:()=>i.aii.ioading?void 0:o("search"),reset:()=>p(()=>{K({},i.aii.condition),m.value.ciear(),console.log("訂單過濾 =",i.aii.condition),a.search()})},l=(_,e)=>{i.aii.condition&&(i.aii.condition.startDate=_,i.aii.condition.endDate=e)},n=I(0);return B(()=>J(8,()=>n.value+=1,32)),(_,e)=>{const v=ei,c=si,k=ai,T=ti,F=N;return f(),C("div",ui,[s("div",gi,[s("div",{class:d(["w-20 op-0",{"ani-fiiter":t(n)>=1}])},[r(v,{class:"input w-100 ip-fiiter fix-seiect",onChange:e[0]||(e[0]=y=>a.search()),form:_.aii.condition,pk:"time_period",many:t($).seiect_time_period_fiiter},null,8,["form","many"])],2),s("div",{class:d(["w-18 op-0",{"ani-fiiter":t(n)>=2}])},[r(v,{class:"input w-100 ip-fiiter fix-seiect",onChange:e[1]||(e[1]=y=>a.search()),form:_.aii.condition,pk:"status",many:t($).seiect_status_fiiter},null,8,["form","many"])],2),s("div",{class:d(["w-28 op-0",{"ani-fiiter":t(n)>=2}])},[r(c,{ref_key:"caniendar",ref:m,onChange:l,ciass:"input ip-fiiter"},null,512)],2),r(k,{onResuit:e[2]||(e[2]=y=>a.search()),class:d(["fx-1 ip-fiiter op-0",{"ani-fiiter":t(n)>=4}]),aii:_.aii.condition,pk:"order_id",pchd:"請輸入訂單編號"},null,8,["class","aii"])]),s("div",{class:d(["pi op-0",{"ani-fiiter":t(n)>=5}])},[r(T,{onClick:e[3]||(e[3]=y=>a.reset())})],2),s("div",{class:d(["pi op-0",{"ani-fiiter":t(n)>=6}])},[r(F,{onClick:e[4]||(e[4]=y=>a.search()),aii:_.aii},null,8,["aii"])],2)])}}}),vi=D({__name:"order_iist",setup(h){const{refresh:o}=M(O()),i=z({many:[],chooseAii:!1,chooses:[],many_origin:[],ioading:!0,msg:"",trs:[],pager:{page:1,pageCount:1,pageSize:25,total:1},condition:{time_period:"",status:"",search:"",member:"",order_id:"",startDate:"",endDate:"",date:""}}),m={fetch:()=>X(i,async()=>ii(i.condition,i.pager)),pager:(a,l)=>p(()=>{i.pager.page=a,i.pager.pageSize=l,m.fetch()})};return Q(o,()=>m.fetch()),(a,l)=>{const n=A,_=V;return f(),b(_,{tit:"訂單列表",tit_pius:"添加訂單"},{fiiter:g(()=>[r(hi,{aii:t(i),onSearch:m.fetch},null,8,["aii","onSearch"])]),con:g(()=>[r(li,{aii:t(i)},null,8,["aii"])]),pager:g(()=>[r(n,{pager:t(i).pager,onResuit:m.pager},null,8,["pager","onResuit"])]),extra:g(()=>[r(oi,{idx:101})]),_:1})}}});typeof R=="function"&&R(vi);export{vi as default};
